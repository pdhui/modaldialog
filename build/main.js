!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(this,function(){return function(e){function t(a){if(n[a])return n[a].exports;var l=n[a]={exports:{},id:a,loaded:!1};return e[a].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,exports,t){t(3),t(1)},function(e,exports,t){function n(e){var t=[],n=e.okBtn,a=e.cancelBtn,l=e.header;return n=r.replaceTemlate(n,e),a=r.replaceTemlate(a,e),l=r.replaceTemlate(l,e),t.push('<div class="modal-dialog '+e.clazz+'" style="position:fixed;"><header>'),t.push(l),t.push('</header><section><div class="dialog-content"></div></section><footer>'),2==e.btnCount&&t.push('<div class="cancle-btn">'+a+"</div>"),t.push('<div class="sure-btn">'+n+"</div>"),t.push("</footer></div>"),t.join("")}function a(){function e(e){var t={};for(var n in e)e.hasOwnProperty(n)&&"undefined"!=typeof e[n]&&(t[n]=e[n]);return t}var t={clazz:"dialog-theme",cancelStr:"取消",sureStr:"确定",title:"温馨提示",okBtn:'<a href="javascript:void(0);">{sureStr}</a>',cancelBtn:'<a href="javascript:void(0);">{cancelStr}</a>',header:'<span class="dialog-title">{title}</span>'},a=document.documentElement.clientHeight,l=document.documentElement.clientWidth,o=document.querySelector(".dialog-mask"),i={insertContent:function(e,t){if(t.selector){var n=document.createComment("dialog-target replace"),a=t.selector,l=getComputedStyle(a).getPropertyValue("display");a.parentNode.replaceChild(n,a),e._commentDom=n,"none"==l&&(a.style.display="block"),e._originDisplay=l,e.querySelector(".dialog-content").appendChild(t.selector)}else e.querySelector(".dialog-content").innerHTML=t.content},createAlert:function(e){var t,a,l="alert-dialog ";return e.clazz&&(l+=e.clazz),a=c.assign({},e,{clazz:l,btnCount:1}),t=r.createHtmlDom(n(a)),t.setAttribute("data-pos",0),this.insertContent(t,e),document.body.appendChild(t),r.bindEvent(t.querySelector(".sure-btn"),"click",r.sureCallback),t},createConfirm:function(e){var t,a,l="alert-dialog ";return e.clazz&&(l+=e.clazz),t=c.assign({},e,{clazz:"confirm-dialog",btnCount:2}),a=r.createHtmlDom(n(t)),a.setAttribute("data-pos",0),this.insertContent(a,e),document.body.appendChild(a),r.bindEvent(a.querySelector(".cancle-btn"),"click",r.cancelCallback),r.bindEvent(a.querySelector(".sure-btn"),"click",r.sureCallback),a},createMyAwardDlg:function(e){function t(){e.inputCallback(),r.unBindEvent(l.querySelector(".dlg-input"),"click",t),l.style.display="none",o.style.display="none",l.parentNode.removeChild(l)}for(var a=c.assign({},e,{clazz:"myaward-dialog",btnCount:2}),l=r.createHtmlDom(n(a)),i=e.dataList||[],s=['<div class="dlg-award-list"><ul>'],u=0,d=i.length;d>u;u++){var p=i[u];s.push('<li><img src="'+p.imgUrl+'" /><div class="item-title">'+p.name+"</div></li>")}return s.push('</ul><div class="address-controller"><span class="dlg-address">收货地址:</span><span class="dlg-input">填写</span></div></div>'),l.setAttribute("data-pos",0),l.querySelector(".dialog-content").innerHTML=s.join(""),document.body.appendChild(l),r.bindEvent(l.querySelector(".cancle-btn"),"click",r.cancelCallback),r.bindEvent(l.querySelector(".sure-btn"),"click",r.sureCallback),r.bindEvent(l.querySelector(".dlg-input"),"click",t),l},createPersonInfoDlg:function(e){for(var t,a=c.assign({},e,{clazz:"personinfo-dialog",btnCount:2,header:""}),l=r.createHtmlDom(n(a)),o=["<form>"],i=e.values,s=e.formField||[{name:"recName",value:"收件人:"},{name:"mobilephone",value:"手机号码:"},{name:"recAddress",value:"收件地址:"},{name:"message",value:"留言:"}],u=0,d=s.length;d>u;u++){var p=s[u];o.push('<div class="form-item"><label>'),o.push(p.value),o.push('</label><input class="form-text" type="text" name="'+p.name+'"/></div>')}o.push("</form>"),l.setAttribute("data-pos",0),l.querySelector(".dialog-content").innerHTML=o.join(""),t=l.querySelectorAll(".dialog-content input");for(var u=0,d=t.length;d>u;u++)"undefined"!=typeof i[u]&&t[u]&&(t[u].value=i[u]);return document.body.appendChild(l),r.bindEvent(l.querySelector(".sure-btn"),"click",r.sureCallback),r.bindEvent(l.querySelector(".cancle-btn"),"click",r.cancelCallback),l}};return o||(o=r.createHtmlDom("<div class='dialog-mask'></div>"),r.bindEvent(o,"touchstart",function(e){e.preventDefault()}),document.body.appendChild(o)),{closeDialog:function(e,t){var n,a;this.hideMask(),e.style.display="none",t.selector&&(n=t.selector,a=e._commentDom,n.style.display=e._originDisplay,a.parentNode.replaceChild(n,a),e._commentDom=null,e._originDisplay=null),e.parentNode.removeChild(e)},dialog:function(e){var n,o,s,u,d,p=e.type,f=this;switch(e=c.assign({},t,e),p){case"alert":n=i.createAlert(e);break;case"confirm":n=i.createConfirm(e);break;case"awardlist":n=i.createMyAwardDlg(e);break;case"personinfo":n=i.createPersonInfoDlg(e)}this.initTouch(n),d=n.offsetHeight,u=n.offsetWidth,o=a-d>0?(a-d)/2:.1*a,s=l-u>0?(l-u)/2:.1*l,r.addCallback(function(t){"function"==typeof e.okCallback&&e.okCallback(t),f.closeDialog(n,e)},function(t){"function"==typeof e.cancelCallback&&e.cancelCallback(t),f.closeDialog(n,e)}),f.showMask(),c.assign(n.style,{display:"block",left:s+"px",top:o+"px"})},confirm:function(t,n,a,l,r,o){if("object"==typeof t)this.dialog(c.assign({type:"confirm"},t));else{var i={type:"confirm",title:a,content:t,okCallback:n,cancelCallback:o,sureStr:r,cancelStr:l};this.dialog(e(i))}},alert:function(t,n,a,l){if("object"==typeof t)this.dialog(c.assign({type:"alert"},t));else{var r={type:"alert",title:n,content:t,okCallback:a,selector:l};this.dialog(e(r))}},alertAwardList:function(t,n,a,l,c,r,o){var i={type:"awardlist",dataList:t,title:n,okCallback:l,cancelCallback:c,sureStr:o||"分享到朋友圈",cancelStr:r||"确定",inputCallback:a};this.dialog(e(i))},alertPersonInfoDlg:function(t,n,a,l,c,r){var o={type:"personinfo",formField:t,okCallback:a,cancelCallback:l,sureStr:r,cancelStr:c,values:n||[]};this.dialog(e(o))},showMask:function(){o.style.display="block"},hideMask:function(){o.style.display="none"},initTouch:function(e){function t(e){var t=e.touches[0];e.target.className.indexOf("dialog-content")>=0&&(o=t.screenX,i=t.screenY,s=!0)}function n(e){var t,n=e.touches[0],a=e.target,r=e.currentTarget,u=n.screenX,d=n.screenY,p=1*r.attributes["data-pos"].value||0;return s&&Math.abs(u-o)<10&&Math.abs(d-i)>10&&(t=p+d-i,c>t?t=c:t>0&&(t=0),r.attributes["data-pos"].value=t,l(a,p,t),o=u,i=d),e.preventDefault(),e.stopPropagation(),!1}function a(){o=null,i=null,s=!1}function l(e,t,n){function a(){t-=c,u>t&&(l(),t=u),e.style.webkitTransform="translate3d(0px,"+t+"px,0px)"}function l(){d=null,clearInterval(d)}var c=5;u=n,null!=d&&l(),d=setInterval(a,18),a()}var c,o,i,s,u,d,p=e.querySelector(".dialog-content"),f=e.getElementsByTagName("section")[0];c=1*getComputedStyle(f).getPropertyValue("height").replace("px","")-p.offsetHeight,r.bindEvent(e,"touchmove",n),r.bindEvent(e,"touchstart",t),r.bindEvent(e,"touchend",a)}}}var l=t(2),c={assign:l.assign},r=c.assign({callbacks:[],cancelCallback:function(e){var t=e.target,n=r.callbacks.pop();r.clearListener(t,n),n.cancelFn&&n.cancelFn(e)},sureCallback:function(e){var t=e.target,n=r.callbacks.pop();r.clearListener(t,n),n.okFn&&n.okFn(e)},clearListener:function(e,t){t.cancelFn&&r.unBindEvent(e,"click",r.cancelCallback),t.okFn&&r.unBindEvent(e,"click",r.sureCallback)},addCallback:function(e,t){t?r.callbacks.push({okFn:e,cancelFn:t}):r.callbacks.push({okFn:e})}},l);e.exports=a()},function(e,exports){e.exports={createHtmlDom:function(){var e=document.createElement("div");return function(t){var n;return e.innerHTML=t,n=e.children[0],e.removeChild(n),n}}(),replaceTemlate:function(e,t){for(var n,a=new RegExp(/{(.*?)}/g);n=a.exec(e);)e=e.replace(n[0],t[n[1]]);return e},bindEvent:function(e,t,n){e.addEventListener(t,n,!1)},unBindEvent:function(e,t,n){e.removeEventListener(t,n)},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURI(n[2]):null},assign:function(){for(var e=arguments[0],t=[].slice.call(arguments,1),n=0,a=t.length;a>n;n++){var l=t[n];for(var c in l)l.hasOwnProperty(c)&&(e[c]=l[c])}return e}}},function(e,exports){}])});